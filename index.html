<!DOCTYPE html>

<!-- Greetings code explorer! Original concept by Stuart Robinson, University of Leeds. Adapted by Dan Harding, Keele University. -->

<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>KLE Templates | Keele University</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
        <link href="https://fonts.googleapis.com/css?family=Cabin|Oswald" rel="stylesheet"> 
        <link rel="stylesheet" href="css/font-awesome-animation.css">
        <link rel="stylesheet" href="css/main.css">
    </head>
    <body>
    
        <!-- JS Progress Bar -->
        
        <progress value="0" id="progressBar">
            <div class="progress-container">
                <span class="progress-bar"></span>
            </div>
        </progress>

        <!-- Section 1 - An Introduction to KLE Templates -->
        
        <section class="OneWrapper">
            <img class="headLogo" src="img/KeeleUni-RGB_ColourwithWHITEtext.png" class="logoKeele" alt="Keele University logo">
            <div class="container"><a id="top"></a>
                <div class="row contentonly">
                    <div class="col-md-8 offset-md-2">
                        <h2 class="OneHeading">KLE Templates</h2>
                        <hr>
                        <p><strong>Welcome!</strong> This page has now been replaced with a page on the new KIITE Educational Toolbox.<br />Please go to: <a href="https://keeleacuk.sharepoint.com/sites/KIITE-EdTech/SitePages/Blackboard.aspx">https://keeleacuk.sharepoint.com/sites/KIITE-EdTech/SitePages/Blackboard.aspx</a> to access the templates and more.</strong></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2 - Who can I ask for help? -->

        <section class="EightWrapper">
            <div class="container">
                <div class="row contentonly">
                    <div class="col-md-8 offset-md-2">
                        <h2 class="EightHeading">Who can I ask for help?</h2>
                        <hr />
                        <p class="light">If you have any questions or issues relating to KLE templates, please speak to the KIITE educational technology team.</p>
                    </div>
                </div>
            </div>
        </section>

        <div id="tracker">
            <span class="main-icon">
                <i class="fa fa-arrow-down faa-float faa-fast animated"></i>
            </span>
        </div>
    
        <footer class="footer">
            <div class="container">
            <div class="row">
                <div class="col-lg-12">
                        <p class="text-align"><img src="img/Keele_Logo_Small.png" class="logoKeele" alt="Keele University logo">Design by <a class="footerlink" href="https://www.twitter.com/danielharding">Dan Harding</a> | Keele University <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" class="cclicense" style="border-width:0" align="right" src="img/cclicense.png" /></a></p>
                </div>
            </div>
            </div>
        </footer>
    
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
        
        <!-- For Progress Bar -->
        <script>
            $(document).ready(function(){
            
            var getMax = function(){
                return $(document).height() - $(window).height();
            }
            
            var getValue = function(){
                return $(window).scrollTop();
            }
            
            if('max' in document.createElement('progress')){
                // Browser supports progress element
                var progressBar = $('progress');
                
                // Set the Max attr for the first time
                progressBar.attr({ max: getMax() });
                $(document).on('scroll', function(){
                    // On scroll only Value attr needs to be calculated
                    progressBar.attr({ value: getValue() });
                });
            
                $(window).resize(function(){
                    // On resize, both Max/Value attr needs to be calculated
                    progressBar.attr({ max: getMax(), value: getValue() });
                });   
            }
            else {
                var progressBar = $('.progress-bar'), 
                    max = getMax(), 
                    value, width;
                
                var getWidth = function(){
                    // Calculate width in percentage
                    value = getValue();            
                    width = (value/max) * 100;
                    width = width + '%';
                    return width;
                }
                
                var setWidth = function(){
                    progressBar.css({ width: getWidth() });
                }
                
                $(document).on('scroll', setWidth);
                $(window).on('resize', function(){
                    // Need to reset the Max attr
                    max = getMax();
                    setWidth();
                });
            }
            });
            $(document).ready(function(){
            $('#flat').addClass("active");
            $('#progressBar').addClass('flat');
            $('#flat').on('click', function(){
                $('#progressBar').removeClass().addClass('flat');
                $('a').removeClass();
                $(this).addClass('active');
                $(this).preventDefault();
            });
            $('#single').on('click', function(){
                $('#progressBar').removeClass().addClass('single');
                $('a').removeClass();    
                $(this).addClass('active');
                $(this).preventDefault();    
            });
            $('#multiple').on('click', function(){
                $('#progressBar').removeClass().addClass('multiple');
                $('a').removeClass();    
                $(this).addClass('active');
                $(this).preventDefault();    
            });
            $('#semantic').on('click', function(){
                $('#progressBar').removeClass().addClass('semantic');
                $('a').removeClass();    
                $(this).addClass('active');
                $(this).preventDefault();
                alert('hello');
            });
            $(document).on('scroll', function(){
            maxAttr = $('#progressBar').attr('max');
            valueAttr = $('#progressBar').attr('value');
            percentage = (valueAttr/maxAttr) * 100;
            if(percentage<49){
                document.styleSheets[0].addRule('.semantic', 'color: red');
                document.styleSheets[0].addRule('.semantic::-webkit-progress-value', 'background-color: red');
                document.styleSheets[0].addRule('.semantic::-moz-progress-bar', 'background-color: red');
            }
            else if(percentage<98){
                document.styleSheets[0].addRule('.semantic', 'color: orange');
                document.styleSheets[0].addRule('.semantic::-webkit-progress-value', 'background-color: orange');
                document.styleSheets[0].addRule('.semantic::-moz-progress-bar', 'background-color: orange');
            }
            else {
                document.styleSheets[0].addRule('.semantic', 'color: green');
                document.styleSheets[0].addRule('.semantic::-webkit-progress-value', 'background-color: green');
                document.styleSheets[0].addRule('.semantic::-moz-progress-bar', 'background-color: green');
            }      
            });
            });
        </script>     
            
    </body>
</html>
